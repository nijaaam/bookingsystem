s{% block events_table %}
<div class="container">
    <div class="panel panel-default">
        <div class="panel-heading text-center">Bookings for Week {{ weekNo }}
            <a type="button" class="btn btn-default pull-right" id = "nextWeek" aria-label="Left Align">
                <span class="glyphicon glyphicon-step-forward" aria-hidden="true"></span>
            </a>
            <a type="button" class="btn btn-default pull-left" id = "prevWeek" aria-label="Left Align">
                <span class="glyphicon glyphicon-step-backward" aria-hidden="true"></span>
            </a>
        </div>
        <div class="table-responsive">
            <table class="table table-striped table-overflow table-bordered ">
                <thead> 
                    <tr>
                        <th>#</th>
                        <th>Date</th>
                        <th>Start Time</th>
                        <th>End Time</th>
                        <th>Description</th>
                        <th>Contact</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in query_results %}
                    <tr>
                        <td>{{ forloop.counter}}</td>
                        <td>{{ item.date}}</td>
                        <td>{{ item.start_time}}</td>
                        <td>{{ item.end_time}}</td>
                        <td>{{ item.description}}</td>
                        <td>{{ item.contact}}</td>
                    </tr>
                    {% endfor %}
                    </tbody>
            </table>
        </div>
    </div>
</div>
<script type="text/javascript">
    $('#prevWeek').click(function() {
        $.ajax({
            type: "get",
            url: "/prevWeek/",
            dataType: "html",
            success: function(data) {
                $('#upcomingEvents').html(data);
            },
        });
    });

    $('#nextWeek').click(function() {
        $.ajax({
            type: "get",
            url: "/nextWeek/",
            dataType: "html",
            success: function(data) {
                $('#upcomingEvents').html(data);
            },
        });
    });
</script>
{% endblock %}

